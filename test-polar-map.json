{"version":2,"kind":"Notebook","sha256":"23c60640b1c664d0a7b785711f129dc2cf651884126241a12db95f4373490f16","slug":"test-polar-map","location":"/notebooks/test_polar_map.ipynb","dependencies":[],"frontmatter":{"title":"Test Polar Map Integration","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"github":"https://github.com/thomasteisberg/xopr","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/thomasteisberg/xopr/blob/HEAD/docs/notebooks/test_polar_map.ipynb","exports":[{"format":"ipynb","filename":"test_polar_map.ipynb","url":"/xopr/build/test_polar_map-34433448d6999cda26bee002e573664c.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook demonstrates how to embed interactive polar maps with GeoParquet data in Jupyter Book.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c0sPbM8frI"}],"key":"n5bS25J9Rc"}],"key":"MPF5sPyspf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Antarctic Map Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"layhEoDN6l"}],"identifier":"antarctic-map-example","label":"Antarctic Map Example","html_id":"antarctic-map-example","implicit":true,"key":"Q6hzfnYCMF"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Below is an interactive map showing test data from Antarctica. The data is loaded from a GeoParquet file that contains a random walk path starting from the South Pole.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MLnk2IVJsK"}],"key":"sXtbh06LiL"}],"key":"TuQ4RsEvXp"},{"type":"block","kind":"notebook-content","children":[{"type":"raw","lang":"html","value":"<iframe \n    src=\"../_static/maps/polar.html\" \n    width=\"100%\" \n    height=\"600\"\n    frameborder=\"0\"\n    style=\"border: 1px solid #ccc; border-radius: 5px;\"\n    onload=\"this.contentWindow.CONFIG = {pole: 'south', parquetFiles: ['test_antarctic_random_walk.parquet'], defaultZoom: 3}\">\n</iframe>","children":[{"type":"paragraph","children":[{"type":"text","value":"<iframe \n    src=\"../_static/maps/polar.html\" \n    width=\"100%\" \n    height=\"600\"\n    frameborder=\"0\"\n    style=\"border: 1px solid #ccc; border-radius: 5px;\"\n    onload=\"this.contentWindow.CONFIG = {pole: 'south', parquetFiles: ['test_antarctic_random_walk.parquet'], defaultZoom: 3}\">\n</iframe>","key":"BG2n3X8ILI"}],"key":"W2JaR0fBGb"}],"key":"OiEEwH83Uw"}],"key":"XU6tv3vX4w"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Features","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eVDPCFBBEk"}],"identifier":"features","label":"Features","html_id":"features","implicit":true,"key":"vXv08jJtSs"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The map above includes:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UbLiNDzqlC"}],"key":"y4WPN9CrA5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Interactive navigation","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fkhQrkNpeS"}],"key":"WVANp2rQlN"},{"type":"text","value":": Zoom and pan to explore the data","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"k4jsux3BXK"}],"key":"E4zbhtfsgZ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Click for details","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qdQ3ObLuhD"}],"key":"js3A6KbTMK"},{"type":"text","value":": Click on any feature to see its name and description","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"p01Xo9uc0w"}],"key":"G9XSSj3igg"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Coordinate display","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"z5Ego2WIJj"}],"key":"XiFNis4Xf7"},{"type":"text","value":": Click on empty areas to see lat/lon coordinates","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"dTzhox0A3O"}],"key":"ISIIsAtWHH"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GeoParquet support","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"txGUDvXzF2"}],"key":"uSo8OaUNv5"},{"type":"text","value":": Data loaded directly from Parquet files using WebAssembly","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"dhiEaxwJRz"}],"key":"TmZr1Bglem"}],"key":"Zs7jBuWAcn"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Data Format","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"WwHAY9Q3OA"}],"identifier":"data-format","label":"Data Format","html_id":"data-format","implicit":true,"key":"PiMHYswnv3"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"The GeoParquet file contains:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"iXcs4uxAWs"}],"key":"InLB9pZcCV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"A LineString showing a random walk path from the South Pole","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"TggGCXclux"}],"key":"XL0ulf7KcV"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Point features marking the start and end points","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"rL5VxBpgSY"}],"key":"Avet3ZLMSU"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Metadata including names and descriptions for each feature","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"qsRyxDJupK"}],"key":"Fh4myE8WIR"}],"key":"RdKduTNxYw"}],"key":"wxGbGI2d0K"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Arctic Map Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r6tluj8VkH"}],"identifier":"arctic-map-example","label":"Arctic Map Example","html_id":"arctic-map-example","implicit":true,"key":"Th0wgBYyQJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also display Arctic data by changing the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"O9bcb3mARN"},{"type":"inlineCode","value":"pole","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"z9U36eHSV1"},{"type":"text","value":" parameter to ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TaAQovQgaa"},{"type":"inlineCode","value":"'north'","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"astvCjk4Fs"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hrPzNAUa2b"}],"key":"PdUbr5Y2e4"},{"type":"code","lang":"javascript","value":"CONFIG = {\n    pole: 'north',\n    parquetFiles: ['arctic_data.parquet'],\n    defaultZoom: 3\n}","position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"key":"SyeckKtJod"}],"key":"qS32tSafpJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Python Integration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"h43i0xIW8R"}],"identifier":"python-integration","label":"Python Integration","html_id":"python-integration","implicit":true,"key":"dJE1NIyWAK"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also generate maps dynamically from Python:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FY017oI5XP"}],"key":"BpgT0ep8j3"}],"key":"gKeD1MuMo9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from IPython.display import IFrame, HTML\nimport json\n\ndef create_polar_map(pole='south', parquet_files=None, height=600):\n    \"\"\"\n    Create an embedded polar map.\n    \n    Parameters:\n    -----------\n    pole : str\n        'north' or 'south' for Arctic or Antarctic projection\n    parquet_files : list\n        List of parquet file paths to display\n    height : int\n        Height of the map in pixels\n    \"\"\"\n    if parquet_files is None:\n        parquet_files = ['test_antarctic_random_walk.parquet']\n    \n    config = {\n        'pole': pole,\n        'parquetFiles': parquet_files,\n        'defaultZoom': 3\n    }\n    \n    # Create HTML with embedded configuration\n    html = f'''\n    <iframe \n        src=\"../_static/maps/polar.html\"\n        width=\"100%\" \n        height=\"{height}\"\n        frameborder=\"0\"\n        style=\"border: 1px solid #ccc; border-radius: 5px;\"\n        onload=\"this.contentWindow.CONFIG = {json.dumps(config)}\">\n    </iframe>\n    '''\n    \n    return HTML(html)\n\n# Display the map\ncreate_polar_map(pole='south', height=500)","key":"zC8NGQ1bn2"},{"type":"output","id":"sktdaT2nuUmwJ3Nmi6wiw","data":[{"output_type":"execute_result","execution_count":1,"metadata":{},"data":{"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"},"text/html":{"content":"\n    <iframe \n        src=\"../_static/maps/polar.html\"\n        width=\"100%\" \n        height=\"500\"\n        frameborder=\"0\"\n        style=\"border: 1px solid #ccc; border-radius: 5px;\"\n        onload=\"this.contentWindow.CONFIG = {\"pole\": \"south\", \"parquetFiles\": [\"test_antarctic_random_walk.parquet\"], \"defaultZoom\": 3}\">\n    </iframe>\n    ","content_type":"text/html"}}}],"key":"Ns7ti3w1Le"}],"key":"z936jrjEIe"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Technical Details","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X6qHiO2s38"}],"identifier":"technical-details","label":"Technical Details","html_id":"technical-details","implicit":true,"key":"TVddEMrLPx"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Projections Used","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AVDNbDKpyk"}],"identifier":"projections-used","label":"Projections Used","html_id":"projections-used","implicit":true,"key":"EEpe8t3xes"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Antarctic","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bZv7A8KbQi"}],"key":"GZnUZ01P8H"},{"type":"text","value":": EPSG:3031 (WGS 84 / Antarctic Polar Stereographic)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"DJqgCrm1R8"}],"key":"vqQQxGraEh"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Arctic","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZSmLduilA8"}],"key":"TSbd4fVWkV"},{"type":"text","value":": EPSG:3413 (WGS 84 / NSIDC Sea Ice Polar Stereographic North)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mi4QfhZReH"}],"key":"BQwtw4mHo9"}],"key":"uTFYOaPGGE"},{"type":"heading","depth":3,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Base Maps","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"qIzOJqA6ye"}],"identifier":"base-maps","label":"Base Maps","html_id":"base-maps","implicit":true,"key":"VnaFj5I3s9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"NASA GIBS Blue Marble imagery","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Ry2u811v3d"}],"key":"jmN8zGTReO"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Served via WMS with proper polar projections","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"N7jpVxUwCq"}],"key":"MFdtL8HZ8I"}],"key":"J8W2doVXEp"},{"type":"heading","depth":3,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Technology Stack","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"bkmqf3E8EK"}],"identifier":"technology-stack","label":"Technology Stack","html_id":"technology-stack","implicit":true,"key":"OLLdZNJzkE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"OpenLayers","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"tVZCaDwK2i"}],"key":"mIxnjVuUUN"},{"type":"text","value":": For map rendering and interaction","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"eGFqqBKWd3"}],"key":"YbXnVIifDd"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"parquet-wasm","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"rq9JaIqI3E"}],"key":"pWhDINFqBu"},{"type":"text","value":": WebAssembly module for reading Parquet files in the browser","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"yCFzWloPW2"}],"key":"KiT2TqDaOn"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Apache Arrow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"UDsPCzGrMc"}],"key":"kM3ItUAHgB"},{"type":"text","value":": For parsing the Arrow IPC format from parquet-wasm","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"zM4LKruz2v"}],"key":"mhHWgfIdoH"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"proj4js","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"HKOb1A4NzQ"}],"key":"G8jGuL2JBi"},{"type":"text","value":": For coordinate transformations","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"hYGJXaBA68"}],"key":"W5tlVUkhEC"}],"key":"ImcItYgOju"}],"key":"yUM13826dZ"}],"key":"q9ijEMqMR8"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Reading parameters","url":"/reading-params","group":"Notebooks"},"next":{"title":"Test Polar Map - Working Version","url":"/test-polar-map-working","group":"Notebooks"}}},"domain":"http://localhost:3000"}