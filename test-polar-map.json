{"version":2,"kind":"Notebook","sha256":"23c60640b1c664d0a7b785711f129dc2cf651884126241a12db95f4373490f16","slug":"test-polar-map","location":"/notebooks/test_polar_map.ipynb","dependencies":[],"frontmatter":{"title":"Test Polar Map Integration","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"github":"https://github.com/thomasteisberg/xopr","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/thomasteisberg/xopr/blob/HEAD/docs/notebooks/test_polar_map.ipynb","exports":[{"format":"ipynb","filename":"test_polar_map.ipynb","url":"/xopr/build/test_polar_map-142d2dca21318ddc0c68f7069dd607ca.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook demonstrates how to embed interactive polar maps with GeoParquet data in Jupyter Book.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xzTYxYqxjy"}],"key":"F4EPbZi6uD"}],"key":"LqYbl6FhN5"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Antarctic Map Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SBny0uzDL2"}],"identifier":"antarctic-map-example","label":"Antarctic Map Example","html_id":"antarctic-map-example","implicit":true,"key":"hGRZLe4JHz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Below is an interactive map showing test data from Antarctica. The data is loaded from a GeoParquet file that contains a random walk path starting from the South Pole.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NZarSANQwu"}],"key":"pcPcv138ID"}],"key":"QIABaJBSfL"},{"type":"block","kind":"notebook-content","children":[{"type":"raw","lang":"html","value":"<iframe \n    src=\"../_static/maps/polar.html\" \n    width=\"100%\" \n    height=\"600\"\n    frameborder=\"0\"\n    style=\"border: 1px solid #ccc; border-radius: 5px;\"\n    onload=\"this.contentWindow.CONFIG = {pole: 'south', parquetFiles: ['test_antarctic_random_walk.parquet'], defaultZoom: 3}\">\n</iframe>","children":[{"type":"paragraph","children":[{"type":"text","value":"<iframe \n    src=\"../_static/maps/polar.html\" \n    width=\"100%\" \n    height=\"600\"\n    frameborder=\"0\"\n    style=\"border: 1px solid #ccc; border-radius: 5px;\"\n    onload=\"this.contentWindow.CONFIG = {pole: 'south', parquetFiles: ['test_antarctic_random_walk.parquet'], defaultZoom: 3}\">\n</iframe>","key":"L2ts5D49HV"}],"key":"zaPc7xwzJx"}],"key":"KTYnpbacBd"}],"key":"JYCGbTFB0f"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Features","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bT2n4yQ9nx"}],"identifier":"features","label":"Features","html_id":"features","implicit":true,"key":"lPAXOrTi5c"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The map above includes:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"C6tx2qJafD"}],"key":"y7i4rIjbzP"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Interactive navigation","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JaqVEe2DMc"}],"key":"gQ21KwKczX"},{"type":"text","value":": Zoom and pan to explore the data","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"IsL0TdH6UH"}],"key":"y2QCTbqLyy"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Click for details","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"g2QhMEcvfe"}],"key":"dvfXgvFZnS"},{"type":"text","value":": Click on any feature to see its name and description","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FmrTHj3Plu"}],"key":"CdMZaAEgQP"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Coordinate display","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"IxxWENpa0B"}],"key":"YXZZAY0JqL"},{"type":"text","value":": Click on empty areas to see lat/lon coordinates","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zRxCK2npDz"}],"key":"CMYQd3GTzL"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GeoParquet support","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SG6sxuMTes"}],"key":"AFWGzMEPRi"},{"type":"text","value":": Data loaded directly from Parquet files using WebAssembly","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ypezcq4qpI"}],"key":"cfpjK9RXeV"}],"key":"CEXQd8jQPs"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Data Format","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"hfeNQUctnl"}],"identifier":"data-format","label":"Data Format","html_id":"data-format","implicit":true,"key":"IvUT2gGNs2"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"The GeoParquet file contains:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JOZw4zKZ4k"}],"key":"XKwtRHdARu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"A LineString showing a random walk path from the South Pole","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"EAwjf64bXe"}],"key":"R63E1pPHQx"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Point features marking the start and end points","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RPHp6mlkRS"}],"key":"vsABlCvQns"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Metadata including names and descriptions for each feature","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"pm4wtvbGfn"}],"key":"QpSA66Eiq6"}],"key":"BWtTPrbiRx"}],"key":"hkFCqJvQpe"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Arctic Map Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vij3FnsGCN"}],"identifier":"arctic-map-example","label":"Arctic Map Example","html_id":"arctic-map-example","implicit":true,"key":"MQdyxRTw1t"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also display Arctic data by changing the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TNBk11RX3G"},{"type":"inlineCode","value":"pole","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QdwrxEm39g"},{"type":"text","value":" parameter to ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WLOKCNkewb"},{"type":"inlineCode","value":"'north'","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"COdr5EppzP"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Mpg7rt1okK"}],"key":"az3Y2NSPoB"},{"type":"code","lang":"javascript","value":"CONFIG = {\n    pole: 'north',\n    parquetFiles: ['arctic_data.parquet'],\n    defaultZoom: 3\n}","position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"key":"eC8tjZ3ZiY"}],"key":"CP4Bh3L09X"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Python Integration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xILsu6X0DF"}],"identifier":"python-integration","label":"Python Integration","html_id":"python-integration","implicit":true,"key":"uGoJjkURpC"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also generate maps dynamically from Python:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KpRtX7aBFE"}],"key":"GSmLCYNMir"}],"key":"CUyeE5hO80"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from IPython.display import IFrame, HTML\nimport json\n\ndef create_polar_map(pole='south', parquet_files=None, height=600):\n    \"\"\"\n    Create an embedded polar map.\n    \n    Parameters:\n    -----------\n    pole : str\n        'north' or 'south' for Arctic or Antarctic projection\n    parquet_files : list\n        List of parquet file paths to display\n    height : int\n        Height of the map in pixels\n    \"\"\"\n    if parquet_files is None:\n        parquet_files = ['test_antarctic_random_walk.parquet']\n    \n    config = {\n        'pole': pole,\n        'parquetFiles': parquet_files,\n        'defaultZoom': 3\n    }\n    \n    # Create HTML with embedded configuration\n    html = f'''\n    <iframe \n        src=\"../_static/maps/polar.html\"\n        width=\"100%\" \n        height=\"{height}\"\n        frameborder=\"0\"\n        style=\"border: 1px solid #ccc; border-radius: 5px;\"\n        onload=\"this.contentWindow.CONFIG = {json.dumps(config)}\">\n    </iframe>\n    '''\n    \n    return HTML(html)\n\n# Display the map\ncreate_polar_map(pole='south', height=500)","key":"x1RvMH7dEt"},{"type":"output","id":"SMINPiqDK2eQJ9K95-eZ8","data":[{"output_type":"execute_result","execution_count":1,"metadata":{},"data":{"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"},"text/html":{"content":"\n    <iframe \n        src=\"../_static/maps/polar.html\"\n        width=\"100%\" \n        height=\"500\"\n        frameborder=\"0\"\n        style=\"border: 1px solid #ccc; border-radius: 5px;\"\n        onload=\"this.contentWindow.CONFIG = {\"pole\": \"south\", \"parquetFiles\": [\"test_antarctic_random_walk.parquet\"], \"defaultZoom\": 3}\">\n    </iframe>\n    ","content_type":"text/html"}}}],"key":"UInDp9fZxi"}],"key":"BuxJ8xSuBt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Technical Details","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o7ntX0izY6"}],"identifier":"technical-details","label":"Technical Details","html_id":"technical-details","implicit":true,"key":"spzhyOGHet"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Projections Used","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ujWNClcR5S"}],"identifier":"projections-used","label":"Projections Used","html_id":"projections-used","implicit":true,"key":"eiGDYFkZ0n"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Antarctic","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"bxT4d3qctM"}],"key":"f1FFcPh32Z"},{"type":"text","value":": EPSG:3031 (WGS 84 / Antarctic Polar Stereographic)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"HqK7EVpRPo"}],"key":"kJaIXxdToJ"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Arctic","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e0yvBm3Ngk"}],"key":"hH1yfOB32B"},{"type":"text","value":": EPSG:3413 (WGS 84 / NSIDC Sea Ice Polar Stereographic North)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KgjpaANfjj"}],"key":"LlA9O20VhD"}],"key":"ifPz0NbnnN"},{"type":"heading","depth":3,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Base Maps","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"iVMlTtWQ5s"}],"identifier":"base-maps","label":"Base Maps","html_id":"base-maps","implicit":true,"key":"P36SqVtHdL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"NASA GIBS Blue Marble imagery","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"pvKvNmG0h8"}],"key":"tMu7gfPOpn"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Served via WMS with proper polar projections","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GHmKTeCA2L"}],"key":"Bp5SNrnTb2"}],"key":"HTi5BkNAfd"},{"type":"heading","depth":3,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Technology Stack","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"NOKZOWRmLG"}],"identifier":"technology-stack","label":"Technology Stack","html_id":"technology-stack","implicit":true,"key":"j3Z7zWUYEN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"OpenLayers","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"DvdvKL7ux0"}],"key":"riIBOyAknu"},{"type":"text","value":": For map rendering and interaction","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"CZlE7ZtITO"}],"key":"nCG7DoftPa"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"parquet-wasm","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ChMUO7Iqje"}],"key":"izZTztnAzM"},{"type":"text","value":": WebAssembly module for reading Parquet files in the browser","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"GCFVhe3qAI"}],"key":"LxvoHN4Ve7"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Apache Arrow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"kQh2kqLGq3"}],"key":"r4Pi9iLBdS"},{"type":"text","value":": For parsing the Arrow IPC format from parquet-wasm","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"l5EIPt2NOD"}],"key":"h4BQEQtRaV"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"proj4js","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"nbNVeCAx8l"}],"key":"HFuR938cJ0"},{"type":"text","value":": For coordinate transformations","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"o9MSiUgzwy"}],"key":"xfzufMysm0"}],"key":"GMd4AE7MSW"}],"key":"pmHRWHTvbM"}],"key":"dHxDyEjQUO"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Reading parameters","url":"/reading-params","group":"Notebooks"},"next":{"title":"Test Polar Map - Working Version","url":"/test-polar-map-working","group":"Notebooks"}}},"domain":"http://localhost:3000"}