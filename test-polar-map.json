{"version":2,"kind":"Notebook","sha256":"23c60640b1c664d0a7b785711f129dc2cf651884126241a12db95f4373490f16","slug":"test-polar-map","location":"/notebooks/test_polar_map.ipynb","dependencies":[],"frontmatter":{"title":"Test Polar Map Integration","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"github":"https://github.com/thomasteisberg/xopr","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/thomasteisberg/xopr/blob/HEAD/docs/notebooks/test_polar_map.ipynb","exports":[{"format":"ipynb","filename":"test_polar_map.ipynb","url":"/xopr/build/test_polar_map-667db7129a3939f7250cf62359147d0a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook demonstrates how to embed interactive polar maps with GeoParquet data in Jupyter Book.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RcWjlhQjaR"}],"key":"Uhi384Thk7"}],"key":"UsmxzlO7ID"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Antarctic Map Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uYpNGEDr9r"}],"identifier":"antarctic-map-example","label":"Antarctic Map Example","html_id":"antarctic-map-example","implicit":true,"key":"m4d3zcdRyF"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Below is an interactive map showing test data from Antarctica. The data is loaded from a GeoParquet file that contains a random walk path starting from the South Pole.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jRTuQ8COPy"}],"key":"sSZOtqzFeJ"}],"key":"mkviZOGlrU"},{"type":"block","kind":"notebook-content","children":[{"type":"raw","lang":"html","value":"<iframe \n    src=\"../_static/maps/polar.html\" \n    width=\"100%\" \n    height=\"600\"\n    frameborder=\"0\"\n    style=\"border: 1px solid #ccc; border-radius: 5px;\"\n    onload=\"this.contentWindow.CONFIG = {pole: 'south', parquetFiles: ['test_antarctic_random_walk.parquet'], defaultZoom: 3}\">\n</iframe>","children":[{"type":"paragraph","children":[{"type":"text","value":"<iframe \n    src=\"../_static/maps/polar.html\" \n    width=\"100%\" \n    height=\"600\"\n    frameborder=\"0\"\n    style=\"border: 1px solid #ccc; border-radius: 5px;\"\n    onload=\"this.contentWindow.CONFIG = {pole: 'south', parquetFiles: ['test_antarctic_random_walk.parquet'], defaultZoom: 3}\">\n</iframe>","key":"N2ouQiQOGK"}],"key":"XVAAkkojMX"}],"key":"rC731piMT7"}],"key":"PkPZLIScqr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Features","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yARNAJ40rW"}],"identifier":"features","label":"Features","html_id":"features","implicit":true,"key":"dBjYhOnAyi"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The map above includes:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yBy7I7JN71"}],"key":"BxGigJ2Plx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Interactive navigation","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"f37aI5Y1PF"}],"key":"rylTjTcao8"},{"type":"text","value":": Zoom and pan to explore the data","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"pC8qsw0Dns"}],"key":"SbggKaYTzO"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Click for details","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PhGWepq2YG"}],"key":"YpDF7qiWfW"},{"type":"text","value":": Click on any feature to see its name and description","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"uFkHKbHnjM"}],"key":"KoP9Zuv7OL"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Coordinate display","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QHOrMHfkDx"}],"key":"WYDRRPJnGL"},{"type":"text","value":": Click on empty areas to see lat/lon coordinates","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"GPbOpskh2x"}],"key":"QV8ml3SS8u"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GeoParquet support","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"HImVWYMbV3"}],"key":"xTI5SErIQz"},{"type":"text","value":": Data loaded directly from Parquet files using WebAssembly","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"YEeS0gKRld"}],"key":"pXrnPvyfyq"}],"key":"XIOzSpljWD"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Data Format","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"RmbBFTf3ja"}],"identifier":"data-format","label":"Data Format","html_id":"data-format","implicit":true,"key":"vbDdQiPIhB"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"The GeoParquet file contains:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"c81Z4rkm1g"}],"key":"lQpA7nOe77"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"A LineString showing a random walk path from the South Pole","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"fhAXWz1i7Y"}],"key":"AQANf7Eo4L"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Point features marking the start and end points","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"DHzTDiGjxU"}],"key":"cRYbh5U0gF"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Metadata including names and descriptions for each feature","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"HSKvpqO75w"}],"key":"jChrbT6SCn"}],"key":"ILxorS7VsW"}],"key":"iiri6AqubY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Arctic Map Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HPgSIfO3VD"}],"identifier":"arctic-map-example","label":"Arctic Map Example","html_id":"arctic-map-example","implicit":true,"key":"G3kbNZWv3E"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also display Arctic data by changing the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d5ZFUwvlzF"},{"type":"inlineCode","value":"pole","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zCHqs7YUT5"},{"type":"text","value":" parameter to ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AS7zOBSGvb"},{"type":"inlineCode","value":"'north'","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ST5FKBlneD"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"g1Rn2MXBZO"}],"key":"ZkPAc597aW"},{"type":"code","lang":"javascript","value":"CONFIG = {\n    pole: 'north',\n    parquetFiles: ['arctic_data.parquet'],\n    defaultZoom: 3\n}","position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"key":"vS54bq16aY"}],"key":"gQqWsTejJ7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Python Integration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HIi3MafrZW"}],"identifier":"python-integration","label":"Python Integration","html_id":"python-integration","implicit":true,"key":"izk4vFi5Hm"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also generate maps dynamically from Python:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"I1YtCrGux9"}],"key":"XsMJA5k5zt"}],"key":"heIhJcyQwn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from IPython.display import IFrame, HTML\nimport json\n\ndef create_polar_map(pole='south', parquet_files=None, height=600):\n    \"\"\"\n    Create an embedded polar map.\n    \n    Parameters:\n    -----------\n    pole : str\n        'north' or 'south' for Arctic or Antarctic projection\n    parquet_files : list\n        List of parquet file paths to display\n    height : int\n        Height of the map in pixels\n    \"\"\"\n    if parquet_files is None:\n        parquet_files = ['test_antarctic_random_walk.parquet']\n    \n    config = {\n        'pole': pole,\n        'parquetFiles': parquet_files,\n        'defaultZoom': 3\n    }\n    \n    # Create HTML with embedded configuration\n    html = f'''\n    <iframe \n        src=\"../_static/maps/polar.html\"\n        width=\"100%\" \n        height=\"{height}\"\n        frameborder=\"0\"\n        style=\"border: 1px solid #ccc; border-radius: 5px;\"\n        onload=\"this.contentWindow.CONFIG = {json.dumps(config)}\">\n    </iframe>\n    '''\n    \n    return HTML(html)\n\n# Display the map\ncreate_polar_map(pole='south', height=500)","key":"CSWLff4KG9"},{"type":"output","id":"cMFNybL1282T0XROf9CXE","data":[{"output_type":"execute_result","execution_count":1,"metadata":{},"data":{"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"},"text/html":{"content":"\n    <iframe \n        src=\"../_static/maps/polar.html\"\n        width=\"100%\" \n        height=\"500\"\n        frameborder=\"0\"\n        style=\"border: 1px solid #ccc; border-radius: 5px;\"\n        onload=\"this.contentWindow.CONFIG = {\"pole\": \"south\", \"parquetFiles\": [\"test_antarctic_random_walk.parquet\"], \"defaultZoom\": 3}\">\n    </iframe>\n    ","content_type":"text/html"}}}],"key":"jZiyMWlmvR"}],"key":"lqIqKANmPD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Technical Details","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WFgZNuVXP9"}],"identifier":"technical-details","label":"Technical Details","html_id":"technical-details","implicit":true,"key":"rd2jG4ZUAy"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Projections Used","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lNAHSSNzLC"}],"identifier":"projections-used","label":"Projections Used","html_id":"projections-used","implicit":true,"key":"fYPQ2kXB2O"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Antarctic","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"f01a13dPdg"}],"key":"poacoz1y6U"},{"type":"text","value":": EPSG:3031 (WGS 84 / Antarctic Polar Stereographic)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"og38tJX53z"}],"key":"qVa5Q9FFRA"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Arctic","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"lpW5ByuiJw"}],"key":"EjYpTsWz7a"},{"type":"text","value":": EPSG:3413 (WGS 84 / NSIDC Sea Ice Polar Stereographic North)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qxNkeJHHaO"}],"key":"DNRSwJZKWL"}],"key":"CPOBjojBLN"},{"type":"heading","depth":3,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Base Maps","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"mjm3K1Anfq"}],"identifier":"base-maps","label":"Base Maps","html_id":"base-maps","implicit":true,"key":"z5aH49KYpD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"NASA GIBS Blue Marble imagery","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mdltIUun8k"}],"key":"kecx5r64gI"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Served via WMS with proper polar projections","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"kHk4bKqsBp"}],"key":"dPu2lkRYtT"}],"key":"M3Tw3rdoYt"},{"type":"heading","depth":3,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Technology Stack","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"AGELRFfVNY"}],"identifier":"technology-stack","label":"Technology Stack","html_id":"technology-stack","implicit":true,"key":"Qwdlose6Kd"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"OpenLayers","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"BHqYf49j7Y"}],"key":"zNxDz5sTYj"},{"type":"text","value":": For map rendering and interaction","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"pIB9E9u1sp"}],"key":"al52kBPz1e"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"parquet-wasm","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"psNBpSa7RD"}],"key":"grSTUiuFhn"},{"type":"text","value":": WebAssembly module for reading Parquet files in the browser","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"CAITZ0lYfA"}],"key":"FtKLPHTlLr"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Apache Arrow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"gQcQFwu1Av"}],"key":"eLvQLRAMmy"},{"type":"text","value":": For parsing the Arrow IPC format from parquet-wasm","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"yb6ACYWhZA"}],"key":"jo5kGrzPbx"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"proj4js","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"KVZJqbrG8h"}],"key":"vTgIxpEZGn"},{"type":"text","value":": For coordinate transformations","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"mgxO2LPdaX"}],"key":"UDf9O9p3sF"}],"key":"ALy3sRnNTP"}],"key":"aSrGZcQXJn"}],"key":"QlfQQCAwWy"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Reading parameters","url":"/reading-params","group":"Notebooks"},"next":{"title":"Test Polar Map - Working Version","url":"/test-polar-map-working","group":"Notebooks"}}},"domain":"http://localhost:3000"}