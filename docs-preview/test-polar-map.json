{"version":2,"kind":"Notebook","sha256":"23c60640b1c664d0a7b785711f129dc2cf651884126241a12db95f4373490f16","slug":"test-polar-map","location":"/notebooks/test_polar_map.ipynb","dependencies":[],"frontmatter":{"title":"Test Polar Map Integration","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"github":"https://github.com/thomasteisberg/xopr","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/thomasteisberg/xopr/blob/HEAD/docs/notebooks/test_polar_map.ipynb","exports":[{"format":"ipynb","filename":"test_polar_map.ipynb","url":"/xopr/build/test_polar_map-3ebc39ff60ad98e9cb363df9a9c6294b.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook demonstrates how to embed interactive polar maps with GeoParquet data in Jupyter Book.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"qrnA3pHbEB"}],"key":"zj5iINBCTf"}],"key":"kKkR3gZkIL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Antarctic Map Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MTr4xue48P"}],"identifier":"antarctic-map-example","label":"Antarctic Map Example","html_id":"antarctic-map-example","implicit":true,"key":"pNeTGqPJTk"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Below is an interactive map showing test data from Antarctica. The data is loaded from a GeoParquet file that contains a random walk path starting from the South Pole.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GzgG9Nv7ZA"}],"key":"NbuFgzz8QN"}],"key":"hIwkMjhAVB"},{"type":"block","kind":"notebook-content","children":[{"type":"raw","lang":"html","value":"<iframe \n    src=\"../_static/maps/polar.html\" \n    width=\"100%\" \n    height=\"600\"\n    frameborder=\"0\"\n    style=\"border: 1px solid #ccc; border-radius: 5px;\"\n    onload=\"this.contentWindow.CONFIG = {pole: 'south', parquetFiles: ['test_antarctic_random_walk.parquet'], defaultZoom: 3}\">\n</iframe>","children":[{"type":"paragraph","children":[{"type":"text","value":"<iframe \n    src=\"../_static/maps/polar.html\" \n    width=\"100%\" \n    height=\"600\"\n    frameborder=\"0\"\n    style=\"border: 1px solid #ccc; border-radius: 5px;\"\n    onload=\"this.contentWindow.CONFIG = {pole: 'south', parquetFiles: ['test_antarctic_random_walk.parquet'], defaultZoom: 3}\">\n</iframe>","key":"sAPp7QW67L"}],"key":"CbXSlfoO23"}],"key":"SWui5y9iDg"}],"key":"HuMgb78hj1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Features","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nZkm2OWwmc"}],"identifier":"features","label":"Features","html_id":"features","implicit":true,"key":"UqwrZlCmvl"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The map above includes:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tHzQuiA4iS"}],"key":"dXf807iho7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Interactive navigation","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"cdAERsMM0O"}],"key":"Z6aDsYO6cC"},{"type":"text","value":": Zoom and pan to explore the data","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"aEFvg1PWP2"}],"key":"obHprfV6uV"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Click for details","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GfIRyM9PmH"}],"key":"FEKytMaKV5"},{"type":"text","value":": Click on any feature to see its name and description","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"apjyFtf9l4"}],"key":"Eqx6zWIANr"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Coordinate display","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"u1Pbu5zpAX"}],"key":"qVY8bp6ooW"},{"type":"text","value":": Click on empty areas to see lat/lon coordinates","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"JXGRsMNjZO"}],"key":"TN3GAR1xK9"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"GeoParquet support","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"L1aXnoLPWP"}],"key":"Z5eZLbXBuX"},{"type":"text","value":": Data loaded directly from Parquet files using WebAssembly","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vvCUBGdpSO"}],"key":"kefJeZJ09u"}],"key":"IMacqGArof"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Data Format","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"uKCiJvTUKh"}],"identifier":"data-format","label":"Data Format","html_id":"data-format","implicit":true,"key":"xFkHlM44wT"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"The GeoParquet file contains:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"QFbafYWWxY"}],"key":"KbXFcVw4wG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"A LineString showing a random walk path from the South Pole","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"rfnaAc8MhZ"}],"key":"F3TLkbaQB0"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Point features marking the start and end points","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"QqS4kkTWJ4"}],"key":"Z4fqXAx10K"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Metadata including names and descriptions for each feature","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Y2CGZg2IK8"}],"key":"qUfHAbxrTG"}],"key":"UXTT8EFPQW"}],"key":"q9UIUg9Koy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Arctic Map Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pTYUkZXG2t"}],"identifier":"arctic-map-example","label":"Arctic Map Example","html_id":"arctic-map-example","implicit":true,"key":"RI9usTaQmJ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also display Arctic data by changing the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nRzqCDOXFu"},{"type":"inlineCode","value":"pole","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HiL29jry0O"},{"type":"text","value":" parameter to ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nTJKGQlT1M"},{"type":"inlineCode","value":"'north'","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zs78ehfASV"},{"type":"text","value":":","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"RHFHpk3c4f"}],"key":"ezCFhVJgvZ"},{"type":"code","lang":"javascript","value":"CONFIG = {\n    pole: 'north',\n    parquetFiles: ['arctic_data.parquet'],\n    defaultZoom: 3\n}","position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"key":"Vpg22fLeb4"}],"key":"dBzONzsYlm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Python Integration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TNxsJrC39W"}],"identifier":"python-integration","label":"Python Integration","html_id":"python-integration","implicit":true,"key":"cOvirRUvJM"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You can also generate maps dynamically from Python:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IzMWMbFxbz"}],"key":"h4uVuoATcn"}],"key":"WLP5FywPrE"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from IPython.display import IFrame, HTML\nimport json\n\ndef create_polar_map(pole='south', parquet_files=None, height=600):\n    \"\"\"\n    Create an embedded polar map.\n    \n    Parameters:\n    -----------\n    pole : str\n        'north' or 'south' for Arctic or Antarctic projection\n    parquet_files : list\n        List of parquet file paths to display\n    height : int\n        Height of the map in pixels\n    \"\"\"\n    if parquet_files is None:\n        parquet_files = ['test_antarctic_random_walk.parquet']\n    \n    config = {\n        'pole': pole,\n        'parquetFiles': parquet_files,\n        'defaultZoom': 3\n    }\n    \n    # Create HTML with embedded configuration\n    html = f'''\n    <iframe \n        src=\"../_static/maps/polar.html\"\n        width=\"100%\" \n        height=\"{height}\"\n        frameborder=\"0\"\n        style=\"border: 1px solid #ccc; border-radius: 5px;\"\n        onload=\"this.contentWindow.CONFIG = {json.dumps(config)}\">\n    </iframe>\n    '''\n    \n    return HTML(html)\n\n# Display the map\ncreate_polar_map(pole='south', height=500)","key":"x3pLDx3ZaQ"},{"type":"output","id":"nCkjZOXzMnprZlJOQebI3","data":[{"output_type":"execute_result","execution_count":1,"metadata":{},"data":{"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"},"text/html":{"content":"\n    <iframe \n        src=\"../_static/maps/polar.html\"\n        width=\"100%\" \n        height=\"500\"\n        frameborder=\"0\"\n        style=\"border: 1px solid #ccc; border-radius: 5px;\"\n        onload=\"this.contentWindow.CONFIG = {\"pole\": \"south\", \"parquetFiles\": [\"test_antarctic_random_walk.parquet\"], \"defaultZoom\": 3}\">\n    </iframe>\n    ","content_type":"text/html"}}}],"key":"AH1CW97wD2"}],"key":"sp3iFkrPBt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Technical Details","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q4pqbpEOZB"}],"identifier":"technical-details","label":"Technical Details","html_id":"technical-details","implicit":true,"key":"lp75hHnjCk"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Projections Used","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YGlGdjRsN5"}],"identifier":"projections-used","label":"Projections Used","html_id":"projections-used","implicit":true,"key":"oV5zY4X6m5"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Antarctic","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"qEG3jFMXYI"}],"key":"E363G3u3aC"},{"type":"text","value":": EPSG:3031 (WGS 84 / Antarctic Polar Stereographic)","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ld1PlaUp9r"}],"key":"VHCZpEmCg4"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Arctic","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DwZUSLKLHG"}],"key":"aCBWxIKR3U"},{"type":"text","value":": EPSG:3413 (WGS 84 / NSIDC Sea Ice Polar Stereographic North)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZRLVZv6drE"}],"key":"IJlQHwDu3q"}],"key":"aXLlFx6YC5"},{"type":"heading","depth":3,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Base Maps","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"W7eALJHhFM"}],"identifier":"base-maps","label":"Base Maps","html_id":"base-maps","implicit":true,"key":"qluL8P1cjz"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"NASA GIBS Blue Marble imagery","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"tlzRVF0c6T"}],"key":"zU9jddTjjZ"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Served via WMS with proper polar projections","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"sRSAjrmfiO"}],"key":"AiffNshOry"}],"key":"vkbr4LmqDA"},{"type":"heading","depth":3,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Technology Stack","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"TjQo13dHEr"}],"identifier":"technology-stack","label":"Technology Stack","html_id":"technology-stack","implicit":true,"key":"HS9apnENXs"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":12,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"OpenLayers","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"EzPUaQ1MDU"}],"key":"uyTVjNoovn"},{"type":"text","value":": For map rendering and interaction","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"FTVIfVhMQ4"}],"key":"J9MWgG6vG0"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"parquet-wasm","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"IavA2DcvqA"}],"key":"XVGl1oxR5V"},{"type":"text","value":": WebAssembly module for reading Parquet files in the browser","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"gFMkkNnMx4"}],"key":"i7V5fXi7Z8"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Apache Arrow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"fElCASHcbG"}],"key":"gUdfWjL602"},{"type":"text","value":": For parsing the Arrow IPC format from parquet-wasm","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"pkKMVtgCDs"}],"key":"iIJJ6DtRjH"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"proj4js","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"r7L3HdYKFn"}],"key":"PnbYFkUFVt"},{"type":"text","value":": For coordinate transformations","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"RSbNaAJDb0"}],"key":"vcQAmXlBxR"}],"key":"l0JHdI8xdz"}],"key":"CIOWbA8KmJ"}],"key":"Eg1UknXsO1"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Reading parameters","url":"/reading-params","group":"Notebooks"},"next":{"title":"Test Polar Map - Working Version","url":"/test-polar-map-working","group":"Notebooks"}}},"domain":"http://localhost:3000"}